<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>SML/NJ 110.78 NEWS</title>
<style>
  div.smlnj-banner {
    font-weight: bold;
    font-size: x-large;
    text-align: center;
  }
  dt.component {
    font-weight: bold;
  }
  dd {
    margin-left: 2em;
    margin-bottom: 0.5em;
  }
  ul.buglist {
    margin-left: 1em;
  }
  li {
    margin-bottom: 0.5em;
  }
  .code {
    font-family: "Courier", monospace;
    white-space: pre;
    font-size: smaller;
  }
  table.buglist {
    margin-left: 2em;
  }
  td.bugid {
    font-weight: bold;
    padding-right: 1em;
    padding-left: 0px;
    margin-left: 0px;
  }
</style>
</head>

<body>
<div class="smlnj-banner">
                       Standard ML of New Jersey
<br/>
                          Version 110.78 NEWS
<br/>
                           December 24, 2014
<br/>
<br/>
</div>
<p>
<hr>

<dl>
  <dt>SML/NJ HOME:</dt>
  <dd><a href="http://www.smlnj.org/index.html"><tt>http://www.smlnj.org/index.html</tt></a></dd>
  <dt>FILES:</dt>
  <dd><a href="http://smlnj.cs.uchicago.edu/dist/working/110.78/index.html">
    <tt>http://smlnj.cs.uchicago.edu/dist/working/110.78/</tt></a>
  </dd>
</dl>

<hr>

<h3>Summary:</h3>
<p>
The primary purpose of this release is improvements to libraries and tools, with some
important bug fixes too.
</p>

<h3>Details:</h3>

<dl>
  <dt class="component">SML/NJ compiler:</dt>
  <dd>
    <p>
    Major revision of the machinery for overloading resolution for both operators (vars)
    and literals, now using a common mechanism. These changes fixes bug <b>#52</b>
    by improving the error message when an overloaded operator is inconsistent with its context.
    Updated 23 files, including major changes in <code>overload.sml</code>, <code>types.sml</code>,
    <code>unify.sml</code>, <code>elabcore.sml</code>, <code>typesutil.sml</code>.
    The overload declaration is still used in <code>pervasives.sml</code>, where the order
    of the specified instances of an ordering determines the default interpretation (<em>i.e.</em>,
    the first one).</p>
    </p>
    <p>The <code>SCHEME</code> and <code>LITERAL</code> forms of tyvars are replaced by a new
    <code>OVLD</code> form that tracks potential instantiations of the type of the
    overloaded vars or literals.
    </p>
  </dd>
  <dt class="component">SML/NJ Library:</dt>
  <dd>
    <p>
    A number of improvements and changes to the HTML4 library.
    Added the <tt>HTML4Attrs</tt> module, which provides help for constructing attribute-value
    pairs, and the <tt>HTML4Entities</tt> modules, which provides names for the standard
    HTML4 entities.
    </p>
    <p>
    New implementation of <tt>ListMergeSort</tt>.  This implementation is
    better than the previous implementation on sorted data (both ascending and descending) and
    faster on smaller lists.  It is slower than the previous
    implementation on very large lists (<i>e.g.</i>, 10<sup>6</sup> elements
    or more).
  </dd>
  <dt class="component">SML/NJ runtime:</dt>
  <dd>
    <p>
    Added <code>-D_FILE_OFFSET_BITS=64</code> flag to <tt>x86-linux</tt> makefile.  This flag
    is necessary to avoid spurious <tt>EOVERFLOW</tt> errors on some versions of
    Linux.  The problem appears to be limited to large file systems that
    have more than 2<sup>32</sup> inodes.
    </p>
  </dd>
  <dt class="component">ml-lpt</dt>
  <dd>
    <p>
    Improved error message for when the lookahead computation fails in <b>ml-antlr</b>.
    </p>
    <p>
    Improved error messages in <b>ml-ulex</b> for unclosed strings.  Also made
    documentation improvements.
    </p>
    <p>
    Added <tt>%value</tt> directive to ml-antlr; this addition improves the
    error repair choices by allowing non-nullary tokens to be inserted
    when making repairs.
    </p>
  </dd>
  <dt class="component">Documentation:</dt>
  <dd>
    <p>
    Moved <tt>base/NOTES/HISTORY</tt> file to <tt>doc/src/changelog/HISTORY.txt</tt>
    and converted it to <a href="http://asciidoc.org">ASCIIDOC</a> format.  Also
    moved the <tt>README</tt> files from <tt>base/READMES</tt> to <tt>doc/src/release-notes</tt>.
    These changes are part of a general effort to rationalize and improve
    the documentation of the <strong>SML/NJ</strong> system.</p>
    </p>
  </dd>
</ul>

<h3>Bugs:</h3>
    <p>
    Here is a list of tracked bugs fixed (or closed) with this release, please see the
    <a href="https://smlnj-gforge.cs.uchicago.edu/projects/smlnj-bugs/">bug tracker</a>
    for more details.
    </p>
    <table class="buglist">
      <tr><td class="bugid">52</td><td>nonsensical type error message</td></tr>
<!--      <tr><td class="bugid">XXX</td><td>DESCRIPTION</td></tr> -->
    </table>
    <p>The following unnumbered bugs were also fixed:
    </p>
    <ul class="buglist">
      <li class="bug">
        Fixed bug with failures on very large Linux file systems (described above).
      </li>
    </ul>

<h3>Supported systems:</h3>
<blockquote>
<p>
We have verified that the system builds and runs on the following systems.
</p>
<div>
<table>
  <tr><th>Architecture</th> <th>Operating System</th></td>
  <tr><td>PowerPC</td> <td>Mac OS X 10.5 (Leopard)</td></tr>
  <tr><td>&nbsp;</td> <td>&nbsp;</td></tr>
  <tr><td>x86</td> <td>Mac OS X 10.6 (Snow Leopard)</td></tr>
  <tr><td></td> <td>Mac OS X 10.7 (Lion)</td></tr>
  <tr><td></td> <td>Mac OS X 10.8 (Mountain Lion)</td></tr>
  <tr><td></td> <td>Mac OS X 10.9 (Mavericks)</td></tr>
  <tr><td></td> <td>Mac OS X 10.10 (Yosemite)</td></tr>
  <tr><td></td> <td>Ubuntu 12.04.4 (GNU/Linux 3.2.0) </td></tr>
  <tr><td></td> <td>Windows 7</td></tr>
  <tr><td></td> <td>Cygwin (hosted on Windows 7)</td></tr>
</table>
</div>
<p>
We believe that it runs on any recent Linux distribute that has support for 32-bit
executables, as well as on BSD variants, SPARC/Solaris, and PPC/AIX, but we have not
tested these systems.
</p>
</blockquote>

</body>
</html>
